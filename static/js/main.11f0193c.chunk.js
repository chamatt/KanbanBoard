(this["webpackJsonpreact-drag-n-drop"]=this["webpackJsonpreact-drag-n-drop"]||[]).push([[0],{64:function(t,e,a){t.exports=a(85)},84:function(t,e,a){},85:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(18),i=a.n(s),o=a(16),c=a(12),l=a(94),d=a(30),u=a(46),b=a(40),m=a(41),p=a(93);function f(){var t=Object(b.a)(["\n  /* background-color: ","; */\n  /* width: 30px; */\n  /* border-radius: 5px;\n  padding: 5px;\n  font-size: 10px;\n  color: white; */\n  /* display: inline-flex; */\n  /* justify-content: center;\n  align-items: center;\n  align-self: flex-end; */\n"]);return f=function(){return t},t}function k(){var t=Object(b.a)(["\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n  padding: 8px;\n  margin-bottom: 8px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n"]);return k=function(){return t},t}m.a.div(k());var v=function(t){return{high:"red",medium:"blue",low:"green"}[t]||"blue"},g=Object(m.a)(p.a).attrs((function(t){return{variantColor:v(t.priority),rounded:"md",fontSize:"10px",p:"5px",variant:"subtle"}}))(f(),(function(t){return v(t.priority)})),j=a(88),y=a(57),E=function(t){var e=t.task,a=t.index,n=Object(c.b)().colorMode,s={light:"whiteAlpha.900",dark:"gray.800"};return r.a.createElement(d.b,{draggableId:e.id,index:a},(function(t){var a=t.draggableProps,i=t.dragHandleProps,o=t.innerRef;return r.a.createElement(j.a,Object.assign({bg:s[n],direction:"column",p:2,mb:2,boxShadow:"md",rounded:"md"},a,i,{ref:o}),r.a.createElement(y.a,{fontSize:"sm"},null===e||void 0===e?void 0:e.content),r.a.createElement(j.a,{justify:"flex-end"},r.a.createElement(g,{priority:e.priority},e.priority)))}))},O=a(89),h=a(90),I=a(59),x=a(91),S=a(5),w=function(t){var e=t.column,a=t.createStatus,s=t.editStatus,i=null===e||void 0===e?void 0:e.tasks,o=Object(n.useState)(""),c=Object(u.a)(o,2),l=c[0],b=c[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),f=p[0],k=p[1],v=Object(n.useRef)(null);Object(n.useEffect)((function(){var t;f&&(null===v||void 0===v||null===(t=v.current)||void 0===t||t.focus())}),[f]);var g,w=function(){l.length>0?(a({title:l,tasks:[]}),k(!1),b("")):k(!1)},z=function(){e&&l.length>0?(s({id:e.id,title:l}),k(!1),b("")):k(!1)},B=function(){(null===e||void 0===e?void 0:e.id)?z():w()},C=function(t){"Enter"===t.key&&((null===e||void 0===e?void 0:e.id)?z():w())},D=function(){return r.a.createElement(x.a,{onBlur:B,ref:v,value:l,onKeyPress:C,onChange:function(t){return b(t.target.value)},variant:"unstyled",placeholder:"Status name"})};return r.a.createElement(S.a,{minH:"60vh",minW:200,w:{base:"100%",sm:"50%",md:300},p:3},e?(g=e,r.a.createElement(j.a,{mb:4,px:2,justify:"space-between",align:"center"},f?D():r.a.createElement(y.a,{fontSize:"md",fontWeight:"bold"},g.title),r.a.createElement(O.d,{closeOnBlur:!0,closeOnSelect:!0},r.a.createElement(O.a,{as:h.a,size:"sm",variant:"ghost"},r.a.createElement(I.a,{name:"chevron-down"})),r.a.createElement(O.c,null,r.a.createElement(O.b,{onClick:function(){k(!0),b((null===e||void 0===e?void 0:e.title)||"")}},"Edit Status Name"),r.a.createElement(O.b,null,"Remove Status"))))):r.a.createElement(j.a,{mb:4,px:2,justify:"space-between",align:"center"},f?D():r.a.createElement(h.a,{onClick:function(){return k(!0)},leftIcon:"add",size:"sm",bg:"transparent"},"Add a group")),e&&i&&function(t){return r.a.createElement(d.c,{droppableId:t.id},(function(t){var e=t.droppableProps,a=t.innerRef,n=t.placeholder;return r.a.createElement(S.a,Object.assign({minH:200,ref:a},e),null===i||void 0===i?void 0:i.map((function(t,e){return r.a.createElement(E,{key:t.id,task:t,index:e})})),n)}))}(e))};var z=function(){var t=Object(c.b)(),e=t.colorMode,a=t.toggleColorMode;return r.a.createElement(j.a,{w:"100%",h:50,justify:"space-between",align:"center",px:8,py:4,borderBottomWidth:"1px"},r.a.createElement(S.a,{flex:2},r.a.createElement(y.a,{fontWeight:"bold"},"Kaban Board")),r.a.createElement(j.a,{flex:1,justify:"flex-end"},r.a.createElement(h.a,{size:"sm",onClick:a,variant:"ghost"},r.a.createElement(I.a,{name:"light"===e?"moon":"sun"}))))},B=a(15),C=a(33),D=a(24),P=a(14),W=a(92),M={data:{tasks:{byId:{"task-1":{id:"task-1",content:"Wash the dishes",priority:"low"},"task-2":{id:"task-2",content:"Procratinate",priority:"high"},"task-3":{id:"task-3",content:"Do some actual work",priority:"medium"},"task-4":{id:"task-4",content:"Sleep, please! \ud83d\ude22\ud83d\ude22\ud83d\ude22\ud83d\ude22",priority:"low"},"task-5":{id:"task-5",content:"Stay awake at all costs!",priority:"high"}},allIds:["task-1","task-2","task-3","task-4","task-5"]},status:{byId:{"column-1":{id:"column-1",title:"To Do",tasks:["task-1","task-2"]},"column-2":{id:"column-2",title:"Doing",tasks:["task-3","task-4","task-5"]}},allIds:["column-1","column-2"]}},tasksByStatus:Object(B.c)((function(t){var e=t.data,a=e.tasks,n=e.status,r=n.allIds.map((function(t){return n.byId[t]}));console.log(r);var s=function(t){return a.byId[t]};return r.map((function(t){return Object(P.a)({},t,{tasks:(e=t.tasks,e.map(s))});var e}))})),setStatus:Object(B.b)((function(t,e){t.data.status=e})),createStatus:Object(B.b)((function(t,e){var a=Object(W.a)();t.data.status={byId:Object(P.a)({},t.data.status.byId,Object(D.a)({},a,{id:a,title:e.title||"New Column",tasks:[]})),allIds:[].concat(Object(C.a)(t.data.status.allIds),[a])}})),editStatus:Object(B.b)((function(t,e){if(!(null===e||void 0===e?void 0:e.id))return t;t.data.status={byId:Object(P.a)({},t.data.status.byId,Object(D.a)({},e.id,Object(P.a)({},t.data.status.byId[e.id],{title:e.title||t.data.status.byId[e.id].title}))),allIds:Object(C.a)(t.data.status.allIds)}})),moveTask:Object(B.f)((function(t,e,a){var n=a.getState,r=e.destination,s=e.source,i=e.draggableId;if(r&&(r.droppableId!==s.droppableId||r.index!==s.index)){var o,c=n().data.status.byId[s.droppableId],l=n().data.status.byId[r.droppableId],d=Object(C.a)(c.tasks),u=Object(C.a)(l.tasks);if(r.droppableId===s.droppableId)d.splice(s.index,1),d.splice(r.index,0,i),t.setStatus(Object(P.a)({},n().data.status,{byId:Object(P.a)({},n().data.status.byId,Object(D.a)({},s.droppableId,Object(P.a)({},c,{tasks:d})))}));else d.splice(s.index,1),u.splice(r.index,0,i),t.setStatus(Object(P.a)({},n().data.status,{byId:Object(P.a)({},n().data.status.byId,(o={},Object(D.a)(o,s.droppableId,Object(P.a)({},c,{tasks:d})),Object(D.a)(o,r.droppableId,Object(P.a)({},l,{tasks:u})),o))}))}}))},R=a(61),A=a.n(R),H=a(45),T={tasks:M},J=Object(B.e)(),K=J.useStoreActions,N=(J.useStoreDispatch,J.useStoreState),X={key:"root",storage:A.a},q=Object(B.d)(T,{reducerEnhancer:function(t){return Object(H.a)(X,t)}}),F=Object(H.b)(q);var G=function(){var t=N((function(t){return t.tasks.tasksByStatus})),e=K((function(t){return t.tasks.moveTask})),a=K((function(t){return t.tasks.createStatus})),n=K((function(t){return t.tasks.editStatus}));return r.a.createElement(j.a,{h:"100%",direction:"column"},r.a.createElement(z,null),r.a.createElement(j.a,{flex:1,mt:15,wrap:"nowrap",overflowX:"scroll"},r.a.createElement(d.a,{onDragEnd:e},t.map((function(t){var e=t;return r.a.createElement(w,{key:e.id,column:e,createStatus:a,editStatus:n})})),r.a.createElement(w,{key:"new-column",createStatus:a,editStatus:n}))))},L=a(62),Q=function(){return r.a.createElement(B.a,{store:q},r.a.createElement(L.a,{persistor:F},r.a.createElement(o.a,null,r.a.createElement(c.a,null,r.a.createElement(l.a,null),r.a.createElement(G,null)))))};a(84);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.11f0193c.chunk.js.map