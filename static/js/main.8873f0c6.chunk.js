(this["webpackJsonpreact-drag-n-drop"]=this["webpackJsonpreact-drag-n-drop"]||[]).push([[0],{65:function(e,t,a){e.exports=a(86)},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),o=a.n(i),l=a(16),s=a(12),c=a(95),d=a(30),u=a(41),b=a(42),m=a(94);function p(){var e=Object(u.a)(["\n  /* background-color: ","; */\n  /* width: 30px; */\n  /* border-radius: 5px;\n  padding: 5px;\n  font-size: 10px;\n  color: white; */\n  /* display: inline-flex; */\n  /* justify-content: center;\n  align-items: center;\n  align-self: flex-end; */\n"]);return p=function(){return e},e}function f(){var e=Object(u.a)(["\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n  padding: 8px;\n  margin-bottom: 8px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n"]);return f=function(){return e},e}b.a.div(f());var k=function(e){return{high:"red",medium:"blue",low:"green"}[e]||"blue"},g=Object(b.a)(m.a).attrs((function(e){return{variantColor:k(e.priority),rounded:"md",fontSize:"10px",p:"5px",variant:"subtle"}}))(p(),(function(e){return k(e.priority)})),E=a(92),v=a(89),y=a(59),h=a(90),j=a(48),O=function(e){var t=e.fieldId,a=e.onCreate,r=e.onEdit,i=Object(n.useState)(""),o=Object(j.a)(i,2),l=o[0],s=o[1],c=Object(n.useState)(!1),d=Object(j.a)(c,2),u=d[0],b=d[1],m=Object(n.useRef)(null);Object(n.useEffect)((function(){var e;u&&(null===m||void 0===m||null===(e=m.current)||void 0===e||e.focus())}),[u]);var p=function(){r.length>0?(a(l),b(!1),s("")):b(!1)},f=function(){t&&r.length>0?(r(t,l),b(!1),s("")):b(!1)};return{field:l,setField:s,isEditing:u,setIsEditing:b,onKeyPressed:function(e){"Enter"===e.key&&(t?f():p())},handleBlur:function(){t?f():p()},handleChange:function(e){return s(e.target.value)},inputRef:m}},I=function(e){var t=e.task,a=e.index,n=Object(s.b)().colorMode,i={light:"whiteAlpha.900",dark:"gray.800"},o=O({fieldId:null===t||void 0===t?void 0:t.id,onCreate:function(e){return console.log(e)},onEdit:function(e,t){return console.log(e,t)}}),l=o.field,c=o.isEditing,u=o.setIsEditing,b=o.setField,m=o.inputRef,p=o.handleBlur,f=o.handleChange,k=o.onKeyPressed;return r.a.createElement(d.b,{draggableId:t.id,index:a},(function(e){var a=e.draggableProps,o=e.dragHandleProps,s=e.innerRef;return r.a.createElement(v.a,Object.assign({bg:i[n],direction:"column",p:2,mb:2,boxShadow:"md",rounded:"md"},a,o,{ref:s}),r.a.createElement(v.a,{mb:2,justify:"space-between",direction:"row",wrap:"nowrap"},c?r.a.createElement(E.a,{onBlur:p,ref:m,value:l,onKeyPress:k,onChange:f,variant:"unstyled",placeholder:"Task Name"}):r.a.createElement(y.a,{fontSize:"sm"},null===t||void 0===t?void 0:t.content),r.a.createElement(h.a,{onClick:function(){u(!0),b((null===t||void 0===t?void 0:t.content)||"")},variant:"ghost","aria-label":"Edit Task",icon:"edit",size:"xs"})),r.a.createElement(v.a,{justify:"flex-start"},r.a.createElement(y.a,{fontSize:"10px"},r.a.createElement(g,{priority:t.priority},t.priority))))}))},x=a(91),S=a(47),w=a(40),C=a(4),z=a(19),B=function(e){var t=e.onClick;return r.a.createElement(z.a,{as:"button",display:"flex",width:"100%",flexDirection:"row",p:2,mb:2,boxShadow:"xs",rounded:"md",cursor:"pointer",alignItems:"center",_hover:{opacity:.5},opacity:.8,onClick:t},r.a.createElement(w.a,{name:"add",size:"10px"}),r.a.createElement(y.a,{fontSize:"sm",pl:2},"Add New Task"))},P=function(e){var t,a=e.column,n=e.createStatus,i=e.editStatus,o=null===a||void 0===a?void 0:a.tasks,l=O({fieldId:null===a||void 0===a?void 0:a.id,onCreate:function(e){return n({title:e})},onEdit:function(e,t){return i({id:e,title:t})}}),s=l.field,c=l.isEditing,u=l.setIsEditing,b=l.setField,m=l.inputRef,p=l.handleBlur,f=l.handleChange,k=l.onKeyPressed,g=function(){return r.a.createElement(E.a,{onBlur:p,ref:m,value:s,onKeyPress:k,onChange:f,variant:"unstyled",placeholder:"Status name"})};return r.a.createElement(C.a,{minH:"60vh",minW:200,w:{base:"100%",sm:"50%",md:300},p:3},a?(t=a,r.a.createElement(v.a,{mb:4,px:2,justify:"space-between",align:"center"},c?g():r.a.createElement(y.a,{fontSize:"md",fontWeight:"bold"},t.title),r.a.createElement(x.d,{closeOnBlur:!0,closeOnSelect:!0},r.a.createElement(x.a,{as:S.a,size:"sm",variant:"ghost"},r.a.createElement(w.a,{name:"chevron-down"})),r.a.createElement(x.c,null,r.a.createElement(x.b,{onClick:function(){u(!0),b((null===a||void 0===a?void 0:a.title)||"")}},"Edit Status Name"),r.a.createElement(x.b,null,"Remove Status"))))):r.a.createElement(v.a,{mb:4,px:2,justify:"space-between",align:"center"},c?g():r.a.createElement(S.a,{onClick:function(){return u(!0)},leftIcon:"add",size:"sm",bg:"transparent"},"Add a group")),a&&o&&function(e){return r.a.createElement(d.c,{droppableId:e.id},(function(e){var t=e.droppableProps,n=e.innerRef,i=e.placeholder;return r.a.createElement(C.a,Object.assign({minH:200,ref:n},t),o&&o.map((function(e,t){return r.a.createElement(I,{key:null===e||void 0===e?void 0:e.id,task:e,index:t})})),i,a&&r.a.createElement(B,{key:"".concat(a.id),onClick:function(){return console.log(a.id)}}))}))}(a))};var R=function(){var e=Object(s.b)(),t=e.colorMode,a=e.toggleColorMode;return r.a.createElement(v.a,{w:"100%",h:50,justify:"space-between",align:"center",px:8,py:4,borderBottomWidth:"1px"},r.a.createElement(C.a,{flex:2},r.a.createElement(y.a,{fontWeight:"bold"},"Kaban Board")),r.a.createElement(v.a,{flex:1,justify:"flex-end"},r.a.createElement(S.a,{size:"sm",onClick:a,variant:"ghost"},r.a.createElement(w.a,{name:"light"===t?"moon":"sun"}))))},D=a(15),K=a(33),T=a(24),W=a(14),A=a(93),M={data:{tasks:{byId:{"task-1":{id:"task-1",content:"Wash the dishes",priority:"low"},"task-2":{id:"task-2",content:"Procratinate",priority:"high"},"task-3":{id:"task-3",content:"Do some actual work",priority:"medium"},"task-4":{id:"task-4",content:"Sleep, please! \ud83d\ude22\ud83d\ude22\ud83d\ude22\ud83d\ude22",priority:"low"},"task-5":{id:"task-5",content:"Stay awake at all costs!",priority:"high"}},allIds:["task-1","task-2","task-3","task-4","task-5"]},status:{byId:{"column-1":{id:"column-1",title:"To Do",tasks:["task-1","task-2"]},"column-2":{id:"column-2",title:"Doing",tasks:["task-3","task-4","task-5"]}},allIds:["column-1","column-2"]}},tasksByStatus:Object(D.c)((function(e){var t=e.data,a=t.tasks,n=t.status,r=n.allIds.map((function(e){return n.byId[e]}));console.log(r);var i=function(e){return a.byId[e]};return r.map((function(e){return Object(W.a)({},e,{tasks:(t=e.tasks,t.map(i))});var t}))})),setStatus:Object(D.b)((function(e,t){e.data.status=t})),createStatus:Object(D.b)((function(e,t){var a=Object(A.a)();e.data.status={byId:Object(W.a)({},e.data.status.byId,Object(T.a)({},a,{id:a,title:t.title||"New Column",tasks:[]})),allIds:[].concat(Object(K.a)(e.data.status.allIds),[a])}})),editStatus:Object(D.b)((function(e,t){if(!(null===t||void 0===t?void 0:t.id))return e;e.data.status={byId:Object(W.a)({},e.data.status.byId,Object(T.a)({},t.id,Object(W.a)({},e.data.status.byId[t.id],{title:t.title||e.data.status.byId[t.id].title}))),allIds:Object(K.a)(e.data.status.allIds)}})),moveTask:Object(D.f)((function(e,t,a){var n=a.getState,r=t.destination,i=t.source,o=t.draggableId;if(r&&(r.droppableId!==i.droppableId||r.index!==i.index)){var l,s=n().data.status.byId[i.droppableId],c=n().data.status.byId[r.droppableId],d=Object(K.a)(s.tasks),u=Object(K.a)(c.tasks);if(r.droppableId===i.droppableId)d.splice(i.index,1),d.splice(r.index,0,o),e.setStatus(Object(W.a)({},n().data.status,{byId:Object(W.a)({},n().data.status.byId,Object(T.a)({},i.droppableId,Object(W.a)({},s,{tasks:d})))}));else d.splice(i.index,1),u.splice(r.index,0,o),e.setStatus(Object(W.a)({},n().data.status,{byId:Object(W.a)({},n().data.status.byId,(l={},Object(T.a)(l,i.droppableId,Object(W.a)({},s,{tasks:d})),Object(T.a)(l,r.droppableId,Object(W.a)({},c,{tasks:u})),l))}))}}))},N=a(62),F=a.n(N),H=a(46),J={tasks:M},X=Object(D.e)(),_=X.useStoreActions,q=(X.useStoreDispatch,X.useStoreState),G={key:"root",storage:F.a},L=Object(D.d)(J,{reducerEnhancer:function(e){return Object(H.a)(G,e)}}),Q=Object(H.b)(L);var U=function(){var e=q((function(e){return e.tasks.tasksByStatus})),t=_((function(e){return e.tasks.moveTask})),a=_((function(e){return e.tasks.createStatus})),n=_((function(e){return e.tasks.editStatus}));return r.a.createElement(v.a,{h:"100%",direction:"column"},r.a.createElement(R,null),r.a.createElement(v.a,{flex:1,mt:15,wrap:"nowrap",overflowX:"scroll"},r.a.createElement(d.a,{onDragEnd:t},e.map((function(e){var t=e;return r.a.createElement(P,{key:t.id,column:t,createStatus:a,editStatus:n})})),r.a.createElement(P,{key:"new-column",createStatus:a,editStatus:n}))))},V=a(63),Y=function(){return r.a.createElement(D.a,{store:L},r.a.createElement(V.a,{persistor:Q},r.a.createElement(l.a,null,r.a.createElement(s.a,null,r.a.createElement(c.a,null),r.a.createElement(U,null)))))};a(85);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.8873f0c6.chunk.js.map